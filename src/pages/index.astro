---
/**
 * index.astro
 * Landing page de Barber√≠a Premium Temuco
 */

export const prerender = true;

import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import BackgroundImage from '../components/BackgroundImage.astro';
import ServiceCard from '../components/ServiceCard.astro';
import TestimonialCard from '../components/TestimonialCard.astro';
import AboutSection from '../components/AboutSection.astro';
import ContactSection from '../components/ContactSection.astro';
import Footer from '../components/Footer.astro';
import WhatsAppButton from '../components/WhatsAppButton.astro';
import { barberia } from '../data/barberia.js';
---

<BaseLayout
  title={barberia.seo.title}
  description={barberia.seo.description}
  keywords={barberia.seo.keywords.join(', ')}
>
  <Navbar />

  <!-- Hero Section - Barber√≠a Premium con imagen de fondo -->
  <section class="relative pt-20 md:pt-28 pb-12 md:pb-16 px-4 overflow-hidden min-h-[70vh] flex items-center bg-gradient-to-b from-neutral-900 via-black to-neutral-950">
    
    <!-- Imagen de fondo personalizable desde site.config.ts -->
    <BackgroundImage />
    
    <!-- Fondo decorativo con textura radial -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <!-- Degradado radial desde el centro -->
      <div class="absolute inset-0 bg-gradient-radial from-yellow-600/10 via-transparent to-transparent"></div>
      
      <!-- Elementos dorados flotantes -->
      <div class="absolute top-20 right-10 w-72 h-72 bg-yellow-600/10 rounded-full blur-3xl animate-pulse-slow"></div>
      <div class="absolute bottom-20 left-10 w-96 h-96 bg-yellow-600/5 rounded-full blur-3xl animate-pulse-slow" style="animation-delay: 3s;"></div>
      
      <!-- Grid pattern sutil -->
      <div class="absolute inset-0 opacity-5" style="background-image: radial-gradient(circle, #ca8a04 1px, transparent 1px); background-size: 50px 50px;"></div>
    </div>

    <div class="max-w-7xl mx-auto relative z-10 w-full">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center">
        <!-- Columna izquierda: Contenido -->
        <div class="space-y-6 text-center lg:text-left">
          <!-- Badge Premium + Oferta Urgencia -->
          <div class="space-y-3 flex flex-col items-center lg:items-start">
            <div 
              data-aos="fade-up"
              data-aos-delay="100"
              class="inline-flex items-center px-4 py-2 bg-yellow-600/20 border border-yellow-600/30 text-yellow-400 rounded-full text-sm font-semibold backdrop-blur-sm"
            >
              {barberia.hero.badge}
            </div>
            <!-- Badge de Urgencia/Promoci√≥n -->
            <div 
              data-aos="fade-down"
              data-aos-delay="200"
              class="inline-flex items-center px-5 py-2.5 bg-red-500/90 border border-red-400 text-white rounded-lg text-sm font-bold backdrop-blur-sm shadow-lg animate-pulse-slow hover:scale-105 transition-transform"
            >
              <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
              </svg>
              ‚ö° 10% descuento en tu primera cita
            </div>
          </div>

          <!-- T√≠tulo principal - Mayor contraste y tama√±o -->
          <div data-aos="fade-up" data-aos-delay="300">
            <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-heading font-bold text-white leading-tight drop-shadow-2xl">
              {barberia.hero.title}
              <span class="block text-yellow-400 mt-2 text-shadow-lg">{barberia.hero.titleHighlight}</span>
            </h1>
          </div>

          <!-- Subt√≠tulo - Mayor legibilidad -->
          <p 
            class="text-lg md:text-xl text-gray-200 leading-relaxed drop-shadow-lg"
            data-aos="fade-up"
            data-aos-delay="400"
          >
            {barberia.hero.subtitle}
          </p>

          <!-- Botones CTA -->
          <div 
            class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start items-center pt-4"
            data-aos="fade-up"
            data-aos-delay="500"
          >
            <a 
              href={barberia.hero.ctaPrimary.link}
              class="inline-flex items-center justify-center px-8 py-4 bg-yellow-600 hover:bg-yellow-500 text-black font-bold text-lg rounded-full shadow-lg hover:shadow-yellow-600/50 transition-all duration-300 transform hover:scale-105"
            >
              <span class="mr-2">{barberia.hero.ctaPrimary.icon}</span>
              {barberia.hero.ctaPrimary.text}
            </a>
          </div>
          
          <!-- Texto adicional con bandera y promoci√≥n -->
          <p 
            class="text-sm text-gray-400"
            data-aos="fade-up"
            data-aos-delay="600"
          >
            üìç Temuco, Chile üá®üá± ‚Äî Atenci√≥n por reserva
          </p>

          <!-- Stats -->
          <div 
            class="grid grid-cols-3 gap-4 pt-4 border-t border-neutral-700/50"
            data-aos="fade-up"
            data-aos-delay="600"
          >
            {barberia.hero.stats.map((stat) => (
              <div class="text-center lg:text-left">
                <p class="text-2xl md:text-3xl font-bold text-yellow-400 mb-1">{stat.value}</p>
                <p class="text-xs md:text-sm text-neutral-300 font-medium">{stat.label}</p>
              </div>
            ))}
          </div>
        </div>

        <!-- Columna derecha: Imagen compacta -->
        <div class="relative h-full" data-aos="fade-left" data-aos-delay="400">
          <div class="relative rounded-2xl overflow-hidden shadow-2xl shadow-yellow-600/20 h-full">
            <!-- Placeholder para imagen hero -->
            <div class="h-full min-h-[500px] bg-gradient-to-br from-neutral-800 to-neutral-900 flex items-center justify-center border-4 border-yellow-600/30">
              <div class="text-center p-6">
                <div class="text-7xl mb-4">‚úÇÔ∏è</div>
                <p class="text-yellow-400 text-xl font-bold mb-2">Barber√≠a Premium</p>
                <p class="text-neutral-400 text-sm">Temuco, Chile</p>
              </div>
            </div>
          </div>
          
          <!-- Elementos decorativos dorados -->
          <div class="absolute -bottom-6 -left-6 w-32 h-32 bg-yellow-600/20 rounded-full blur-3xl animate-pulse-slow"></div>
          <div class="absolute -top-6 -right-6 w-32 h-32 bg-yellow-600/20 rounded-full blur-3xl animate-pulse-slow" style="animation-delay: 2s;"></div>
        </div>
      </div>
    </div>

    <!-- Onda decorativa inferior -->
    <div class="absolute bottom-0 left-0 right-0">
      <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full">
        <path d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="#0a0a0a"/>
      </svg>
    </div>
  </section>

  <!-- Secci√≥n de Servicios -->
  <section id="servicios" class="py-20 px-4 bg-neutral-950">
    <div class="max-w-7xl mx-auto">
      <!-- Encabezado -->
      <div class="text-center mb-16" data-aos="fade-up">
        <h2 class="text-4xl md:text-5xl lg:text-6xl font-heading font-bold text-white mb-4 drop-shadow-2xl">
          Nuestros Servicios
        </h2>
        <p class="text-xl md:text-2xl text-yellow-400 font-semibold mb-6">
          Calidad y precisi√≥n en cada detalle
        </p>
        <div class="w-24 h-1 bg-yellow-500 mx-auto"></div>
      </div>

      <!-- Grilla de servicios con dise√±o mejorado -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
        {barberia.services.map((service, index) => (
          <div 
            class={`group relative bg-[#1e1e1e] rounded-xl p-6 border-2 ${service.highlight ? 'border-yellow-600 shadow-yellow-600/20' : 'border-neutral-700'} hover:border-yellow-500 hover:-translate-y-3 hover:shadow-2xl hover:shadow-yellow-600/40 hover:scale-105 transition-all duration-500 cursor-pointer overflow-hidden`}
            data-aos="fade-up"
            data-aos-delay={index * 100}
          >
            {/* Badge "M√°s solicitado" para servicio destacado */}
            {service.highlight && (
              <span class="absolute top-3 right-3 bg-yellow-600 text-black text-xs font-semibold px-3 py-1.5 rounded-full z-10 shadow-lg animate-pulse-slow">
                M√°s solicitado üíé
              </span>
            )}
            
            {/* Efecto glow m√°s pronunciado en hover */}
            <div class="absolute inset-0 bg-gradient-to-br from-yellow-600/0 to-yellow-500/0 group-hover:from-yellow-600/10 group-hover:to-yellow-500/10 transition-all duration-500 rounded-xl"></div>
            
            {/* Contenido */}
            <div class="relative z-10">
              <div class="text-5xl mb-4 transform group-hover:scale-125 group-hover:rotate-6 transition-all duration-300">{service.icon}</div>
              <h3 class="text-xl font-bold text-white mb-3 group-hover:text-yellow-400 transition-colors duration-300">{service.title}</h3>
              <p class="text-gray-400 text-sm mb-4">{service.description}</p>
            
              <div class="space-y-2 mb-4">
                <div class="flex items-center gap-2">
                  <p class="text-yellow-500 font-bold text-xl">{service.price}</p>
                  {service.highlight && (
                    <span class="text-xs bg-green-500/20 text-green-400 px-2 py-0.5 rounded-full border border-green-500/30">
                      -10% HOY
                    </span>
                  )}
                </div>
                <p class="text-gray-500 text-sm flex items-center gap-1">
                  ‚è±Ô∏è {service.duration}
                  {service.highlight && <span class="ml-2 text-yellow-500">‚≠ê Popular</span>}
                </p>
              </div>

              {service.features && (
                <ul class="space-y-2 mb-4">
                  {service.features.map((feature) => (
                    <li class="text-gray-400 text-sm flex items-start">
                      <span class="text-yellow-500 mr-2">‚úì</span>
                      <span>{feature}</span>
                    </li>
                  ))}
                </ul>
              )}
            </div>
          </div>
        ))}
      </div>

      <!-- CTA para ver precios completos -->
      <div class="text-center" data-aos="fade-up">
        <a 
          href="#contacto"
          class="inline-flex items-center px-8 py-4 bg-neutral-800 hover:bg-neutral-700 text-white font-semibold rounded-lg border border-neutral-700 transition-all duration-300"
        >
          Ver lista completa de precios
          <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Secci√≥n Sobre Nosotros -->
  <AboutSection />

  <!-- Secci√≥n de Testimonios con dise√±o mejorado -->
  <section id="testimonios" class="py-20 px-4 bg-[#0a0a0a]">
    <div class="max-w-7xl mx-auto">
      <!-- Encabezado -->
      <div class="text-center mb-16" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-heading font-bold text-white mb-4">
          Opiniones de nuestros clientes
        </h2>
        <p class="text-lg text-gray-400 mb-6">
          La satisfacci√≥n de nuestros clientes nos respalda
        </p>
        <div class="w-24 h-1 bg-yellow-600 mx-auto"></div>
      </div>

      <!-- Grid de testimonios elegantes -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {barberia.testimonials.map((testimonial, index) => (
          <div 
            class="relative bg-[#1c1c1c] rounded-2xl p-8 shadow-xl hover:-translate-y-3 hover:shadow-2xl hover:shadow-yellow-600/20 transition-all duration-300 border-2 border-neutral-800 hover:border-yellow-600/50 overflow-hidden group"
            data-aos="fade-up"
            data-aos-delay={index * 100}
          >
            <!-- Efecto glow en hover -->
            <div class="absolute inset-0 bg-gradient-to-br from-yellow-600/0 to-yellow-500/0 group-hover:from-yellow-600/5 group-hover:to-yellow-500/5 transition-all duration-500"></div>
            
            <!-- Contenido relativo -->
            <div class="relative z-10">
              <!-- Estrellas amarillas arriba -->
              <p class="text-yellow-500 text-3xl mb-4 drop-shadow-lg">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</p>
              
              <!-- Texto del testimonio -->
              <p class="text-gray-300 leading-relaxed mb-6 italic text-base">
                "{testimonial.text}"
              </p>

              <!-- Footer con avatar mejorado -->
              <div class="flex items-center gap-4 pt-4 border-t border-neutral-700">
                <!-- Avatar con gradiente y sombra -->
                <div class="relative">
                  <div class="w-14 h-14 bg-gradient-to-br from-yellow-600 via-yellow-500 to-yellow-700 rounded-full flex items-center justify-center text-black font-bold text-xl shadow-lg ring-2 ring-yellow-600/50">
                    {testimonial.name.charAt(0)}
                  </div>
                  <!-- Indicador "verificado" -->
                  <div class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center border-2 border-[#1c1c1c]">
                    <svg class="w-3 h-3 text-white" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                    </svg>
                  </div>
                </div>
                <div>
                  <p class="text-white font-semibold text-lg">{testimonial.name}</p>
                  <p class="text-gray-400 text-sm">Cliente verificado</p>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Secci√≥n de Contacto -->
  <ContactSection />

  <!-- Footer -->
  <Footer />

  <!-- Bot√≥n flotante de WhatsApp -->
  <WhatsAppButton />
</BaseLayout>

<style>
  /* Animaciones personalizadas */
  @keyframes float-gentle {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }
</style>
